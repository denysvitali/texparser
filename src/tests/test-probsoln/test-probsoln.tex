\documentclass{article}

\usepackage[answers,usedefaultargs]{probsoln}

\begin{defproblem}[1][{2}]{diffsin}
Differentiate $f(x)=\sin(#1x)$.
\begin{onlysolution}
 \begin{solution}
 $f'(x) = #1\cos(#1)x$.
 \end{solution}
\end{onlysolution}
\end{defproblem}

\newproblem[1][{4}]{diffcos}{%
  \(f(x) = \cos(#1x)\)
}%
{%
  \(f'(x) = -#1\sin(#1x)\)
}

\newproblem*{essay}{An essay style question without an answer.}

\begin{document}

\begin{enumerate}
\item \useproblem{diffsin}{3}

\item \useproblem{diffcos}{8}

\item \useproblem{essay}
\end{enumerate}

Iterate:
\begin{enumerate}
\foreachproblem{\item \thisproblem}
\end{enumerate}
\end{document}
